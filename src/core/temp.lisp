;;;; ./src/core/temp.lisp
(in-package #:mnas-ansys)

(defun z-plane-x-axis (point)
  "@b(Описание:) функция @b(z-plane-x-axis) возвращает координаты точки,
 являющиеся вращением ее вокруг оси Χ до плоскости Ζ."
  (let ((x (first point))
        (y (second point))
        (z (third point)))
    (list x (sqrt (+ (* y y) (* z z))))))

(defun make-z-plane-x-axis (point &optional (color 1))
  (format t "(dr:pline '~S~%~S)~%~%~%" (mapcar #'z-plane-x-axis point) color))

(make-z-plane-x-axis
 '((461.5000 303.0708 202.5054)
   (461.5000 330.0883 220.5580)
   (464.4500 330.0883 220.5580)
   (464.4500 320.1156 213.8944)
   (467.4500 320.1156 213.8944)
   (467.4500 325.9356 217.7832)
   (473.4500 325.9356 217.7832)
   (473.4500 330.0883 220.5580)
   (495.9500 330.0883 220.5580)
   (495.9500 312.1871 208.5967)
   (497.9500 309.3019 206.6689)
   (500.7500 309.3019 206.6689)
   (500.7500 303.0660 202.5022)))

(make-z-plane-x-axis
 '((466.5000 497.7485 99.00834)
   (474.5000 497.7485 99.00834)
   (474.5000 497.7485 99.00834)
   (475.3684 497.9432 99.04707)
   (475.9645 498.3745 99.13284)
   (476.3589 498.9869 99.25466)
   (476.5000 499.7101 99.39853)
   (478.5000 523.2490 104.0807)
   (478.5000 528.1529 105.0561)
   (490.0000 528.1529 105.0561)
   (471.5000 641.4336 127.5891)
   (471.5000 649.7703 129.2473)
   (-3.500000 649.7703 129.2473)
   (-28.50000 647.6251 128.8206)))


(make-z-plane-x-axis
 '((471.5000 543.7776 363.3406)
   (486.0000 443.5862 296.3948)
   (494.5000 443.5862 296.3948)
   (494.5000 427.7884 285.8391)
   (498.5000 427.7884 285.8391)
   (498.5000 426.9569 285.2835)
   (521.0000 426.9569 285.2835)
   (525.1482 427.7062 285.7841)
   (527.6551 429.0679 286.6940)
   (529.7595 431.2624 288.1603)
   (530.5483 432.8029 289.1897)
   (531.0000 435.2715 290.8391)
   (531.0000 445.6649 297.7838)
   (603.6461 494.5779 330.4664)
   (603.6461 494.5779 330.4664)
   (605.8267 496.8768 332.0025)
   (606.6081 499.7901 333.9490)
   (606.0468 502.2012 335.5601)
   (604.7355 504.0253 336.7789)
   (601.6083 505.9147 338.0414)
   (528.5000 530.4742 354.4515)))

(dr:pline '((471.5 653.9957) (486.0 533.4966) (494.5 533.4966)
            (494.5 514.49677) (498.5 514.49677) (498.5 513.4967)
            (521.0 513.4967) (525.1482 514.3978) (527.6551 516.0356)
            (529.7595 518.67487) (530.5483 520.52765) (531.0 523.4966)
            (531.0 535.99664) (603.6461 594.8238) (603.6461 594.8238)
            (605.8267 597.5887) (606.6081 601.0924) (606.0468 603.99225)
            (604.7355 606.18604) (601.6083 608.45844) (528.5 637.99585))
          2)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(progn
(defparameter *tin*
  (open-tin-file "d:/home/_namatv/CFX/ugt5000_H2/ugt5000_H2.tin"))

(mnas-ansys/utils:surface-names-coeged-with-surface-in-family
 '("P_04")  *tin*
 :families-excluded
 '("KORP_04" "A_H/H_D001.8" "A_H/H_D004.0" "STOP" )
 :times 1 ))



